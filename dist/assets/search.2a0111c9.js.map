{"version":3,"file":"search.2a0111c9.js","sources":["../../src/components/search.vue"],"sourcesContent":["<template>\r\n\t<div class=\"main\">\r\n\t\t<a-input-search class=\"search\" v-model:value=\"searchValue\" :focus=\"false\"\r\n\t\t\tplaceholder=\"input search loading with enterButton\" enter-button @search=\"searchRet\" />\r\n\t\t<!-- 社区 -->\r\n\t\t<div class=\"PLdata\">\r\n\t\t\t<!-- <div class=\"gender\">\r\n\t\t\t\t<a-image :preview=\"false\" :width=\"100\" :height=\"120\" src=\"http://154.39.81.208/img/mine/man.png\" />\r\n\t\t\t\t<a-image :preview=\"false\" :width=\"100\" :height=\"120\" src=\"http://154.39.81.208/img/mine/gril.png\" />\r\n\t\t\t</div> -->\r\n\t\t\t<ul v-infinite-scroll=\"load\" infinite-scroll-immediate :infinite-scroll-disabled=\"hasMore0\"\r\n\t\t\t\tclass=\"infinite-list\" style=\"overflow: auto\">\r\n\t\t\t\t<li v-for=\"(item, index) in PLdata\" :key=\"index\" class=\"infinite-list-item\">\r\n\t\t\t\t\t<div v-if=\"item.gender == '女'\" class=\"modelItem flex\" @click=\"detail(item)\">\r\n\r\n\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t<svg class=\"icon\"\r\n\t\t\t\t\t\t\t\tstyle=\"width: 2em;height: 2.5em;vertical-align: middle;fill: currentColor;overflow: hidden;\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2284\">\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M917.9 375.9L716.5 140.7a35.35 35.35 0 0 0-26.8-12.3H333.9c-10.4 0-20.2 4.5-26.9 12.4L107.2 376c-10.8 12.7-11.2 31.4-1 44.5l377.7 485.3c6.7 8.6 16.9 13.6 27.8 13.6 10.9 0 21.1-4.9 27.8-13.6l379.3-485.3c10.4-13.1 9.9-31.9-0.9-44.6zM495.4 696.8l-169-281.4c-3.6-6-10.1-9.7-17.1-9.7h-32.7c-11 0-20-9-20-20v-24.4c0-11 9-20 20-20h96.1c7.2 0 13.8 3.9 17.4 10.1l123.1 217c7.5 13.1 26.2 13.6 34.3 0.8l138.4-218.7c3.7-5.8 10-9.3 16.9-9.3h45.9c11 0 20 9 20 20v24.4c0 11-9 20-20 20H716c-7 0-13.5 3.7-17.1 9.7L529.7 696.8c-7.7 12.9-26.5 12.9-34.3 0z m399.8-294.7L527.7 872.3l311.5-459.1c5.2-6.7 5-16.2-0.5-22.6L661.4 226.9c-3.4-4-8.3-6.2-13.6-6.2H334.7c-5.2 0-10.2 2.3-13.6 6.3l-168 141.4 176.8-208.2c1-1.2 2.5-1.9 4-1.9h355.8c1.5 0 3 0.7 4 1.8l201.4 235.3c1.6 2 1.7 4.8 0.1 6.7z\"\r\n\t\t\t\t\t\t\t\t\tfill=\"#2680F0\" p-id=\"2285\"></path>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M698.8 415.4c3.6-6 10.1-9.7 17.1-9.7h32.7c11 0 20-9 20-20v-24.4c0-11-9-20-20-20h-45.9c-6.9 0-13.2 3.5-16.9 9.3L547.4 569.3c-8.1 12.8-26.8 12.3-34.3-0.8L390 351.4c-3.6-6.3-10.2-10.1-17.4-10.1h-96.1c-11 0-20 9-20 20v24.4c0 11 9 20 20 20h32.7c7 0 13.5 3.7 17.1 9.7l169.1 281.4c7.8 12.9 26.5 12.9 34.3 0l169.1-281.4z\"\r\n\t\t\t\t\t\t\t\t\tfill=\"#FFFFFF\" p-id=\"2286\"></path>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t<a-image :preview=\"false\" :width=\"100\" :height=\"120\" :src=\"$domain + '/' + item.avatar\" />\r\n\t\t\t\t\t\t\t<div class=\"infos\">\r\n\t\t\t\t\t\t\t\t<div class=\"name\"><strong>{{ item.name }}</strong></div>\r\n\t\t\t\t\t\t\t\t<div class=\"city\"><small>{{ item.city }}</small></div>\r\n\t\t\t\t\t\t\t\t<div class=\"info\">\r\n\t\t\t\t\t\t\t\t\t<span>{{ lang.PL.job }}:{{ item.job }}</span>\r\n\t\t\t\t\t\t\t\t\t<span>{{ lang.PL.height }}:{{ item.height }}</span>\r\n\t\t\t\t\t\t\t\t\t<span>{{ lang.PL.weight }}:{{ item.weight }}kg</span>\r\n\t\t\t\t\t\t\t\t\t<span>{{ lang.PL.xw }}:{{ item.xw }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"right\">\r\n\t\t\t\t\t\t\t<div class=\"reseve\">\r\n\t\t\t\t\t\t\t\t<div class=\"yy\" @click.stop=\"yy\">{{ lang.PL.button }}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n\tuseRouter\r\n} from 'vue-router';\r\nimport {\r\n\tref,\r\n\tonMounted,\r\n\tonUnmounted,\r\n\treactive,\r\n\tonBeforeMount\r\n} from 'vue';\r\nimport {\r\n\tCarousel\r\n} from 'ant-design-vue';\r\nimport mainApi from '../api/main.js'\r\nimport {\r\n\tElNotification\r\n} from 'element-plus'\r\nimport {\r\n\tmessage\r\n} from 'ant-design-vue';\r\nimport en from '../locales/en.js';\r\nimport zh from '../locales/zh.js';\r\nimport jp from '../locales/jp.js';\r\nimport ko from '../locales/ko.js';\r\nimport vi from '../locales/vi.js';\r\nconst langs = {\r\n\ten,\r\n\tzh,\r\n\tjp,\r\n\tko,\r\n\tvi\r\n}\r\nlet lang = langs[localStorage.getItem('language')]\r\nconsole.log(lang)\r\nconst router = useRouter();\r\nconst user = JSON.parse(localStorage.getItem('user'))\r\nif (!user) {\r\n\trouter.replace('/login');\r\n}\r\nimport {\r\n\tuseCounterStore\r\n} from '../store/index';\r\nimport mineApi from '../api/mine.js'\r\nimport PLApi from '../api/PL.js'\r\nimport 'plyr/dist/plyr.css';\r\nimport Plyr from 'plyr';\r\nimport {\r\n\tModal\r\n} from 'ant-design-vue';\r\nconst store = useCounterStore();\r\n\r\nconst searchValue = ref('')\r\nconst searchClick = () => {\r\n\trouter.push('/search')\r\n}\r\nconst userInfo = ref({})\r\nconst getUser = () => {\r\n\tmineApi.get_user({\r\n\t\taccount: JSON.parse(localStorage.getItem('user')).account\r\n\t}).then(res => {\r\n\t\tif (res.code == 0) {\r\n\t\t\tconst user = res.rows[0]\r\n\t\t\tconsole.log(user)\r\n\t\t\tdelete user.password\r\n\t\t\tuserInfo.value = user\r\n\t\t\tstore.user = user\r\n\t\t\tconsole.log(store.user)\r\n\t\t\tconst localUser = user\r\n\t\t\tlocalStorage.setItem('user', JSON.stringify(localUser))\r\n\t\t} else {\r\n\t\t\tmessage.error('fail');\r\n\t\t}\r\n\t})\r\n}\r\n//初始化用户信息\r\ngetUser()\r\nconst party = (index) => {\r\n\trouter.push({\r\n\t\tpath: '/videoAuto',\r\n\t\tquery: {\r\n\t\t\ttype: index - 1\r\n\t\t}\r\n\t})\r\n}\r\nlet PLtagsColor = ['#f50', '#2db7f5', '#87d068', '#108ee9']\r\n//预约\r\nconst yy = () => {\r\n\tElNotification({\r\n\t\ttitle: lang.message.title,\r\n\t\tmessage: lang.message.msg,\r\n\t\ttype: 'warning',\r\n\t})\r\n}\r\nconst detail = (item) => {\r\n\trouter.push({\r\n\t\tpath: '/PDetail',\r\n\t\tquery: {\r\n\t\t\t'item': JSON.stringify(item)\r\n\t\t}\r\n\t});\r\n}\r\nconst pageIndex = ref(0)\r\nconst pageSize = ref(5)\r\nlet tabIndex = 0\r\nlocalStorage.removeItem('PLdata')\r\n//社区数组\r\nlet PLdata = ref([])\r\nlet hasMore0 = ref(false)\r\nconst searchRet = () => {\r\n\tif(!searchValue.value) {\r\n\t\tgetPLdata()\r\n\t\treturn\r\n\t}\r\n\tPLApi.get_pair_list({\r\n\t\taccount:searchValue.value,\r\n\t\tgender: '女',\r\n\t}).then(res => {\r\n\t\tconsole.log(res)\r\n\t\tif (res.code == 0) {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res.rows.length < 1) {\r\n\t\t\t\thasMore0.value = true\r\n\t\t\t}\r\n\t\t\tPLdata.value = res.rows\r\n\t\t} else {\r\n\t\t\tmessage.error('fail')\r\n\t\t}\r\n\t})\r\n}\r\nconst getPLdata = async () => {\r\n\tawait PLApi.get_pair_list({\r\n\t\tpairId: store.user.pairId,\r\n\t\tgender: '女',\r\n\t\tpageIndex: pageIndex.value,\r\n\t\tpageSize: pageSize.value,\r\n\t}).then(res => {\r\n\t\tconsole.log(res)\r\n\t\tif (res.code == 0) {\r\n\t\t\tif (res.rows.length < 1) {\r\n\t\t\t\thasMore0.value = true\r\n\t\t\t}\r\n\t\t\tif (pageIndex.value == 0) {\r\n\t\t\t\tif (!localStorage.getItem('PLdata')) {\r\n\t\t\t\t\tPLdata.value = res.rows\r\n\t\t\t\t}\r\n\t\t\t\tlocalStorage.setItem('PLdata', JSON.stringify(res.rows))\r\n\t\t\t} else {\r\n\t\t\t\tPLdata.value = PLdata.value.concat(res.rows)\r\n\t\t\t}\r\n\t\t\tif (res.rows.length > 0) {\r\n\t\t\t\tpageIndex.value += 1\r\n\t\t\t} else {\r\n\t\t\t\t// Modal.warning({\r\n\t\t\t\t// \ttitle: lang.message.title,\r\n\t\t\t\t// \tcontent: lang.message.msg,\r\n\t\t\t\t// \tokText: lang.mine.model.message[1].okText,\r\n\t\t\t\t// });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmessage.error('fail')\r\n\t\t}\r\n\t})\r\n}\r\n\r\n//分页加载\r\nconst load = () => {\r\n\tsetTimeout(() => {\r\n\t\tgetPLdata()\r\n\t}, 500)\r\n}\r\n//初始化社区数据\r\nlocalStorage.removeItem(\"PLdata\")\r\n// getPLdata(0)\r\nconst initSquare = () => {\r\n\tgetPLdata()\r\n}\r\nconst tabChange = (tab, event) => {\r\n\tpageIndex.value = 0\r\n\thasMore0.value = false\r\n\tinitSquare()\r\n};\r\nconst vipClick = () => {\r\n\tElNotification({\r\n\t\ttitle: lang.message.title,\r\n\t\tmessage: lang.message.msg,\r\n\t\ttype: 'warning',\r\n\t})\r\n}\r\nconst value = ref('');\r\n// //视频播放常量\r\nconst playCtrl = ref(null);\r\nconst player = ref(null);\r\n\r\n\r\nconst togglePlay = () => {\r\n\t// \tconsole.log(player.value)\r\n\t//   if (player.value.paused) {\r\n\t//     player.value.play(); // 暂停则播放\r\n\t//   } else {\r\n\t//     player.value.pause(); // 播放则暂停\r\n\t//   }\r\n};\r\nonMounted(async () => {\r\n\tinitSquare()\r\n\t//初始化播放器\r\n\t// player.value = new Plyr(playCtrl.value);\r\n\t// player.value.play()\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.ant-input-group-addon {\r\n\tbackground-color: red !important;\r\n}\r\n\r\n.search {\r\n\tpadding: 10px;\r\n}\r\n\r\n.partyItem {\r\n\tbackground-color: rgba(0, 3, 217, 0.6);\r\n\tborder: 3px solid #ffcc00;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0px 0px 50px 10px #FB50D6;\r\n\tfont-size: 20px;\r\n\tborder-radius: 50px;\r\n\tcolor: #ffcc00;\r\n\tmargin: 10px 20px 10px;\r\n\tjustify-content: center;\r\n}\r\n\r\n:deep(.is-active) {}\r\n\r\n:deep(.el-tabs__nav-scroll) {\r\n\tborder: none;\r\n\t/* background-color: #7c63e3 !important; */\r\n}\r\n\r\n:deep(.el-tabs__content) {\r\n\tpadding: 5px;\r\n\t/* background-color: #0B0E32 !important; */\r\n}\r\n\r\n.el-tabs--border-card {\r\n\tborder: none;\r\n}\r\n\r\n.modelItem .right .reseve .yy {\r\n\twidth: 30vw;\r\n\theight: 20px;\r\n\tborder: 1px solid #ccc;\r\n\tborder-radius: 30px;\r\n\tpadding: 10px 5px;\r\n\tbackground-color: #FB50D6;\r\n\tcolor: white;\r\n\tfont-weight: bold;\r\n\tfont-size: 16px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tright: 0px;\r\n}\r\n\r\n.modelItem .right .reseve .city {\r\n\ttext-align: right;\r\n}\r\n\r\n.modelItem .right .reseve {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: end;\r\n\tjustify-content: space-between;\r\n\theight: 80%;\r\n\tposition: relative;\r\n}\r\n\r\n.modelItem .left .info span {\r\n\ttext-wrap: nowrap;\r\n}\r\n\r\n.modelItem .left .remake {\r\n\tfont-size: 12px;\r\n\tcolor: #666;\r\n}\r\n\r\n.modelItem .left .info {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.modelItem .right .tags {\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.modelItem .right .name {\r\n\tfont-size: 18px;\r\n}\r\n\r\n.modelItem .right .reseve {}\r\n\r\n.modelItem .left .infos .info {}\r\n\r\n.modelItem .left .infos .info {\r\n\ttext-align: left;\r\n\tpadding-bottom: 15px;\r\n}\r\n\r\n.modelItem .left .infos {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-evenly;\r\n\talign-items: flex-start;\r\n\tmargin-left: 7px;\r\n\theight: 100%;\r\n}\r\n\r\n.modelItem .left img {\r\n\tborder-radius: 10px;\r\n}\r\n\r\n.modelItem .left .icon {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 2;\r\n}\r\n\r\n.modelItem .left {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: relative;\r\n}\r\n\r\n.modelItem {\r\n\tdisplay: flex;\r\n\tbackground: linear-gradient(to right, #7A71F1, #5B2EE3);\r\n\tcolor: white;\r\n\tborder-radius: 8px;\r\n\tjustify-content: space-between;\r\n\tpadding: 0 10px;\r\n\t/* border: 2px solid #aa55ff; */\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.modelItem .right {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 20vh;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.PLdata .gender {\r\n\twidth: 100%;\r\n\tposition: absolute;\r\n\ttop: 10vh;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n}\r\n\r\n.PLdata .infinite-list {\r\n\theight: 100vh;\r\n\tpadding-bottom: 7vh;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: #aaaaff;\r\n\tmargin: 0;\r\n}\r\n\r\n/* slick-track {\r\n\t\theight: 50vh !important;\r\n\t} */\r\n/* 轮播标注不显示 */\r\n/* .slick-dots {\r\n\t\tdisplay: none !important;\r\n\t} */\r\n.carousel {\r\n\theight: 25vh;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n}\r\n\r\n.main {\r\n\tpadding: 0;\r\n\tcolor: black;\r\n\tbackground-color: #aaaaff;\r\n}\r\n\r\n.infinite-list {\r\n\t/* height: 450px;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tlist-style: none; */\r\n}\r\n\r\n.infinite-list .infinite-list-item {\r\n\tpadding: 5px 5px 0;\r\n\tcolor: black;\r\n\tbox-sizing: border-box;\r\n\t/* border: 3px solid #f9b004; */\r\n\tborder-radius: 10px;\r\n\t/* background-color: #aa55ff; */\r\n\t/* display: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t\theight: auto;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.7);\r\n\t\tpadding: 5px 0 0;\r\n\t\tcolor: #aa55ff; */\r\n}\r\n</style>"],"names":["lang","en","zh","jp","ko","vi","router","useRouter","store","useCounterStore","searchValue","ref","userInfo","mineApi","res","user","localUser","message","yy","ElNotification","detail","item","pageIndex","pageSize","PLdata","hasMore0","searchRet","getPLdata","PLApi","load","initSquare","onMounted"],"mappings":"6rBAmFA,IAAIA,EAPU,CACb,GAAAC,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,CACD,EACiB,aAAa,QAAQ,UAAU,GAChD,QAAQ,IAAIL,CAAI,EAChB,MAAMM,EAASC,EAAS,EACX,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAEnDD,EAAO,QAAQ,QAAQ,EAYxB,MAAME,EAAQC,EAAe,EAEvBC,EAAcC,EAAI,EAAE,EAIpBC,EAAWD,EAAI,EAAE,GACP,IAAM,CACrBE,EAAQ,SAAS,CAChB,QAAS,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,EAAE,OACpD,CAAE,EAAE,KAAKC,GAAO,CACd,GAAIA,EAAI,MAAQ,EAAG,CAClB,MAAMC,EAAOD,EAAI,KAAK,GACtB,QAAQ,IAAIC,CAAI,EAChB,OAAOA,EAAK,SACZH,EAAS,MAAQG,EACjBP,EAAM,KAAOO,EACb,QAAQ,IAAIP,EAAM,IAAI,EACtB,MAAMQ,EAAYD,EAClB,aAAa,QAAQ,OAAQ,KAAK,UAAUC,CAAS,CAAC,CACzD,MACGC,EAAQ,MAAM,MAAM,CAEvB,CAAE,CACF,GAES,EAWT,MAAMC,EAAK,IAAM,CAChBC,EAAe,CACd,MAAOnB,EAAK,QAAQ,MACpB,QAASA,EAAK,QAAQ,IACtB,KAAM,SACR,CAAE,CACF,EACMoB,EAAUC,GAAS,CACxBf,EAAO,KAAK,CACX,KAAM,WACN,MAAO,CACN,KAAQ,KAAK,UAAUe,CAAI,CAC3B,CACH,CAAE,CACF,EACMC,EAAYX,EAAI,CAAC,EACjBY,EAAWZ,EAAI,CAAC,EAEtB,aAAa,WAAW,QAAQ,EAEhC,IAAIa,EAASb,EAAI,EAAE,EACfc,EAAWd,EAAI,EAAK,EACxB,MAAMe,EAAY,IAAM,CACvB,GAAG,CAAChB,EAAY,MAAO,CACtBiB,EAAW,EACX,MACA,CACDC,EAAM,cAAc,CACnB,QAAQlB,EAAY,MACpB,OAAQ,QACV,CAAE,EAAE,KAAKI,GAAO,CACd,QAAQ,IAAIA,CAAG,EACXA,EAAI,MAAQ,GACf,QAAQ,IAAIA,CAAG,EACXA,EAAI,KAAK,OAAS,IACrBW,EAAS,MAAQ,IAElBD,EAAO,MAAQV,EAAI,MAEnBG,EAAQ,MAAM,MAAM,CAEvB,CAAE,CACF,EACMU,EAAY,SAAY,CAC7B,MAAMC,EAAM,cAAc,CACzB,OAAQpB,EAAM,KAAK,OACnB,OAAQ,SACR,UAAWc,EAAU,MACrB,SAAUC,EAAS,KACrB,CAAE,EAAE,KAAKT,GAAO,CACd,QAAQ,IAAIA,CAAG,EACXA,EAAI,MAAQ,GACXA,EAAI,KAAK,OAAS,IACrBW,EAAS,MAAQ,IAEdH,EAAU,OAAS,GACjB,aAAa,QAAQ,QAAQ,IACjCE,EAAO,MAAQV,EAAI,MAEpB,aAAa,QAAQ,SAAU,KAAK,UAAUA,EAAI,IAAI,CAAC,GAEvDU,EAAO,MAAQA,EAAO,MAAM,OAAOV,EAAI,IAAI,EAExCA,EAAI,KAAK,OAAS,IACrBQ,EAAU,OAAS,IASpBL,EAAQ,MAAM,MAAM,CAEvB,CAAE,CACF,EAGMY,EAAO,IAAM,CAClB,WAAW,IAAM,CAChBF,EAAW,CACX,EAAE,GAAG,CACP,EAEA,aAAa,WAAW,QAAQ,EAEhC,MAAMG,EAAa,IAAM,CACxBH,EAAW,CACZ,EAac,OAAAhB,EAAI,EAAE,EAEHA,EAAI,IAAI,EACVA,EAAI,IAAI,EAWvBoB,EAAU,SAAY,CACrBD,EAAY,CAIb,CAAC"}