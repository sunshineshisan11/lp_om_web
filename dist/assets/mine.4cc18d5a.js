import{_ as ye,u as ke,r as m,a as _e,b as he,E as be,c as T,d as we,e as xe,o as r,f as u,g as a,n as K,h as l,i as v,t as n,F as k,j as d,w as Ce,v as Se,k as p,l as f,m as S,p as Ee,q as Ie,s as Ve,z as $e,x as ze,y as Me,A as Te,B as g,C as h,M as U,D as Ue,G as je,H as Le,I as Oe}from"./main.e5148843.js";const Be={class:"main"},De={class:"bg"},Ne={class:"vipCardCtrl"},Pe={class:"vipContent"},Ae=["src"],Fe={key:1,src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",class:"avatar",alt:"Avatar"},Je={class:"top"},qe={class:"vipStatus"},Ge={class:"vip"},He={class:"icon",style:{width:"2.85546875em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},viewBox:"0 0 2924 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"16983"},Re={class:"name",style:{"font-size":"14px"}},We={class:"bottom"},Ke={key:0,class:"vipCode"},Qe={class:"tc"},Xe={class:"my-header flex center",style:{}},Ye={class:"avatar flex",style:{}},Ze=["src"],et={class:"name flex center"},tt={class:"btnGroup magT20"},lt={class:"accountInfo magT20"},at={class:"money"},ot={class:"title"},st={key:1},nt={key:0,style:{color:"red"}},it={key:1,style:{color:"red"}},rt={key:2,style:{color:"red"}},ut={key:3,style:{color:"red"}},dt={class:"btnGroup"},vt={class:"getMoney"},ct={class:"top magB20"},mt={class:"bottom magB20"},gt={class:"orderList flex",style:{}},pt={class:"order flex"},ft={for:""},yt={class:"money"},kt={class:"updatePWDmodel"},_t={class:"flex gap-4 mb-4"},ht={class:"flex gap-4"},bt={class:"flex gap-4"},wt={class:"system"},xt={class:"flex frist"},Ct={class:"my-header",style:{display:"flex","justify-content":"center"}},St=["id"],Et={class:"zh_"},It={__name:"mine",setup(Vt){const _=ke(),ne=()=>{_.push("/login"),localStorage.removeItem("user")},b={en:Ve,zh:$e,jp:ze,ko:Me,vi:Te};let t=m();t.value=b[localStorage.getItem("language")];const w=m(!1),j=m(!1),L=m(!1),E=m(!1),I=m(!1),V=m(""),x=m(""),F=m(""),J=m(!1),c=_e({name:"",avatar:"",makeMoney:""});let i=m({}),q=m({});const y=he();localStorage.getItem("user")||_.replace("/login");const ie=m();ie.value=localStorage.getItem("language")||"jp";const $=o=>{switch(console.log(o),console.log(I.value),I.value=!1,o){case"en":t.value=b.en,localStorage.setItem("language","en"),y.lang="en";break;case"zh":t.value=b.zh,localStorage.setItem("language","zh"),y.lang="zh";break;case"jp":t.value=b.jp,localStorage.setItem("language","jp"),y.lang="jp";break;case"ko":t.value=b.ko,localStorage.setItem("language","ko"),y.lang="ko";break;case"vi":t.value=b.vi,localStorage.setItem("language","vi"),y.lang="vi";break}console.log(y.lang)},re=()=>{_.push({path:"/pair"})},Q=()=>{if(console.log(V.value),V.value==""){g.error(t.value.mine.message[0]);return}if(x.value==""){g.error(t.value.mine.message[1]);return}if(x.value.length<6){g.error(t.value.mine.message[2]);return}if(F.value!=x.value){g.error(t.value.mine.message[3]);return}J.value=!0,h.update_pwd({id:y.user.id,oldPassword:V.value,newPassword:x.value}).then(o=>{console.log(o),o.code==0?(g.success(t.value.mine.message[4]),J.value=!1,E.value=!1):o.msg=="\u5BC6\u7801\u9519\u8BEF"?g.error(t.value.mine.message[5]):g.error("fail")})},G=o=>{switch(o){case 1:_.push({path:"/systemEdit",query:{type:o}});break;case 2:_.push({path:"/systemEdit",query:{type:o}});break;case 3:_.push({path:"/systemEdit",query:{type:o}});break}};let H="";localStorage.getItem("user")&&(H=JSON.parse(localStorage.getItem("user")).account);const X=async()=>{await h.get_user({account:H}).then(o=>{if(o.code==0)try{const e=o.rows[0];e||_.replace("/login"),delete e.password,i.value=e,y.user=e;const D=e;localStorage.setItem("user",JSON.stringify(D)),e.vipGrade!=0&&(L.value=!0)}catch{}else g.error("fail")}),await h.getVip({type:i.value.vipGrade}).then(o=>{o.code==0?q.value=o.rows[0]:console.log(o.error)})};m();const C=m();X();const Y=()=>{h.get_order({account:H}).then(o=>{console.log(o),o.code==0?(C.value=o.rows,C.value.reverse()):g.error("fail")})};Y();let O=0;const Z=o=>{j.value=!0,O=o},ue=()=>{if(c.makeMoney==""){g.error(t.value.mine.model.message[0]);return}if(O==1&&c.makeMoney>y.user.money){g.error(t.value.gift.message[2]);return}switch(Number(y.user.dataError)){case 1:U.error({title:t.value.gift.model.title,content:t.value.gift.model.content[0],okText:t.value.gift.model.okText});break;case 2:U.error({title:t.value.gift.model.title,content:t.value.gift.model.content[1],okText:t.value.gift.model.okText});break;case 3:U.error({title:t.value.gift.model.title,content:t.value.gift.model.content[2],okText:t.value.gift.model.okText});break;case 4:console.log(t.value),U.error({title:t.value.gift.model.title,content:t.value.gift.model.content[3],okText:t.value.gift.model.okText});break}if(y.user.dataError==0){if(O==1&&c.makeMoney>y.user.money){g.error(t.value.gift.message[2]);return}j.value=!1;for(let o=0;o<C.value.length;o++)if(console.log(C.value[o].status),C.value[o].status==0){U.warning({title:t.value.mine.model.message[1].title,content:t.value.mine.model.message[1].content,okText:t.value.mine.model.message[1].okText});return}h.set_order({account:y.user.account,makeMoney:c.makeMoney,type:O}).then(o=>{o.code==0?(Y(),c.makeMoney="",g.success(t.value.mine.model.message[2])):g.error("fail")})}},de=()=>{if(console.log(c.name),c.avatar==""&&!i.value.avatar){g.error(t.value.mine.model.message[3]);return}else if(c.name==""&&!i.value.name){g.error(t.value.mine.model.message[4]);return}h.set_user({account:JSON.parse(localStorage.getItem("user")).account,name:c.name||i.value.name,vipStatus:i.value.vipStatus}).then(o=>{console.log(o),o.code==0?(X(),g.success("ok")):g.error("fail")}),w.value=!1,L.value=!0},ee=m(""),z=m(""),B=m(""),ve=async o=>{if(!(o.type==="image/jpeg"||o.type==="image/png"))return z.value=t.value.mine.model.message[5],B.value="error",!1;if(!(o.size/1024/1024<2))return z.value=t.value.mine.model.message[6],B.value="error",!1;const N=new FileReader;return N.onload=M=>{ee.value=M.target.result,c.avatar=ee.value},N.readAsDataURL(o),!0},ce=o=>{console.log(o.file),o.code==0&&h.set_user({avatar:o.file,account:JSON.parse(localStorage.getItem("user")).account}).then(e=>{console.log(e)}),console.log(o)},me=()=>{z.value=t.value.mine.model.message[7],B.value="error"};return(o,e)=>{const D=be,N=Ue,M=T("a-input"),P=T("a-button"),te=je,le=Le,ge=T("Clock"),ae=Oe,pe=T("Failed"),oe=T("a-modal"),R=we,fe=xe;return r(),u("div",Be,[a("div",De,[a("div",{class:"head",style:K({"background-image":"url("+o.$domain+"/bg1.jpg)"})},e[26]||(e[26]=[a("div",{class:"bColor"},null,-1)]),4)]),e[30]||(e[30]=a("div",{class:"head"},null,-1)),a("div",Ne,[l(q)?(r(),u("div",{key:0,class:"vipCard",style:K({"background-image":"url("+o.$domain+"/mine/"+l(q).img+")"})},[a("div",Pe,[a("div",{class:"left",style:{display:"flex","flex-direction":"column"},onClick:e[0]||(e[0]=s=>w.value=!0)},[l(i).avatar?(r(),u("img",{key:0,src:c.avatar?c.avatar:o.$domain+"/"+l(i).avatar,class:"avatar",alt:"Avatar"},null,8,Ae)):(r(),u("img",Fe)),v(" "+n(l(i).account),1)]),a("div",{class:"vipTitle flex height100",onClick:re,style:{"flex-direction":"column","justify-content":"space-between"}},[a("div",Je,[a("div",qe,[a("div",Ge,[(r(),u("svg",He,e[27]||(e[27]=[a("path",{d:"M1185.225953 53.447503a259.416926 259.416926 0 0 0-44.743469 9.519887 485.038252 485.038252 0 0 0-49.979408 20.467757 209.913512 209.913512 0 0 0-55.215346 36.651566 376.511538 376.511538 0 0 0-47.599436 57.119323c-24.275712 36.175571-54.739351 81.87103-90.914922 137.56237s-84.251001 130.422454-142.798308 222.765359-118.046601 181.829845-167.07402 258.464937l-147.082257 228.001298h-142.798307c-37.12756-210.389507-68.543188-387.459408-95.198872-529.781721S157.078138 244.32124 142.798308 172.446092a150.890212 150.890212 0 0 0-21.895741-56.167334 142.798308 142.798308 0 0 0-38.079549-34.271594A186.589789 186.589789 0 0 0 47.599436 62.96739a261.320903 261.320903 0 0 0-47.599436-9.519887L12.375853 1.088123h536.445643l-12.851848 52.35938a693.999775 693.999775 0 0 0-86.630973 13.327842 182.305839 182.305839 0 0 0-42.363498 13.803836c-8.567898 4.283949-13.327842 9.043893-13.803837 14.755825v14.755825a247.517067 247.517067 0 0 0 0.951989 33.7956c0 10.471876 4.283949 25.703695 7.139915 44.267475 9.043893 56.167334 22.847729 131.374443 40.459521 226.573315s39.983526 216.577433 65.687221 365.087673c61.879267-98.054838 119.950578-190.397743 172.309958-274.648745s103.290776-166.122031 151.366206-244.185106c20.467757-33.319605 38.079549-64.259238 53.311369-92.8189a172.309958 172.309958 0 0 0 22.371734-59.0233q0-21.419746-37.12756-35.699577a365.087673 365.087673 0 0 0-105.670747-18.56378L776.822793 1.088123h421.255008l-12.851848 52.35938z m-129.470465 958.652638H1618.38082l11.899859-52.359379a362.707701 362.707701 0 0 1-102.338787-20.467758 47.599436 47.599436 0 0 1-32.843611-47.599436v-16.183808c0-7.139915 2.855966-14.755825 4.759943-22.847729L1663.124289 143.886431a129.94646 129.94646 0 0 1 19.515769-43.791481 86.154979 86.154979 0 0 1 43.315487-29.035656 499.318082 499.318082 0 0 1 53.311368-10.94787c23.799718-3.331961 42.839492-5.711932 58.547306-6.663921l11.899859-52.35938H1288.992723l-12.375853 52.35938a352.71182 352.71182 0 0 1 103.76677 26.655684 51.407391 51.407391 0 0 1 33.319605 47.599436v15.231819c0 6.663921-2.855966 14.755825-5.235938 24.751707l-166.598025 705.423639a112.334669 112.334669 0 0 1-20.467758 43.791481 85.678985 85.678985 0 0 1-42.363497 27.607673 294.164514 294.164514 0 0 1-54.739352 10.471876c-23.799718 2.855966-42.363498 4.283949-56.167334 4.759944l-12.375853 52.359379z m1865.897886-798.718534a310.348322 310.348322 0 0 1-39.983526 157.554133 333.196051 333.196051 0 0 1-115.666629 116.618618 577.857151 577.857151 0 0 1-167.07402 67.591199 868.689705 868.689705 0 0 1-203.249592 22.371735h-102.338787l-63.307249 273.220761c0 8.567898-3.331961 15.707814-4.759944 22.84773v16.659802a47.599436 47.599436 0 0 0 26.17969 47.599436 298.924457 298.924457 0 0 0 103.290776 22.847729l-11.899859 52.35938H1791.642766l12.375854-52.35938c11.423865 0 29.51165-2.379972 52.835373-5.235938a319.392215 319.392215 0 0 0 52.35938-10.471876 86.630973 86.630973 0 0 0 42.363498-28.083667 102.338787 102.338787 0 0 0 20.467757-42.839492l162.790071-707.327617c0-9.995882 4.283949-18.56378 5.235938-24.751707v-15.231819a51.407391 51.407391 0 0 0-30.463639-47.599436 312.728294 312.728294 0 0 0-98.530832-26.655684L2024.404008 1.088123H2570.369537a523.593795 523.593795 0 0 1 263.22488 51.883385 174.68993 174.68993 0 0 1 86.154979 160.410099zM2624.632894 334.284174a417.923047 417.923047 0 0 0 15.707814-117.570606 148.986234 148.986234 0 0 0-41.411509-115.190635 193.729704 193.729704 0 0 0-134.706404-38.079549h-51.883385l-104.718759 452.194641h47.599436a347.951876 347.951876 0 0 0 132.326432-23.323724 227.525303 227.525303 0 0 0 89.486939-64.735232 256.560959 256.560959 0 0 0 47.599436-95.198872z",fill:"#C49F67","p-id":"16984"},null,-1)])))]),a("div",Re,n(l(i).name||l(y).user.name),1),l(i).vipStatus=="0"?(r(),u(k,{key:0},[v(n(l(t).mine.vipStatus[0]),1)],64)):d("",!0),l(i).vipStatus=="1"?(r(),u(k,{key:1},[v(n(l(t).mine.vipStatus[1]),1)],64)):d("",!0),l(i).vipStatus=="2"?(r(),u(k,{key:2},[v(n(l(t).mine.vipStatus[2]),1)],64)):d("",!0),l(i).vipStatus=="3"?(r(),u(k,{key:3},[v(n(l(t).mine.vipStatus[3]),1)],64)):d("",!0)])]),a("div",We,[L.value==!0?(r(),u("div",Ke,[e[28]||(e[28]=v("ID:\xA0 ")),l(i).vipStatus=="0"?(r(),u(k,{key:0},[v(n(l(t).mine.vipStatus[4]),1)],64)):d("",!0),l(i).vipStatus=="1"?(r(),u(k,{key:1},[v(n(l(i).vipCode.substr(1,3))+".\u2026\u2026",1)],64)):d("",!0),l(i).vipStatus=="2"?(r(),u(k,{key:2},[v(n(l(i).vipCode.substr(1,3))+"\u2026",1)],64)):d("",!0),l(i).vipStatus=="3"?(r(),u(k,{key:3},[v(n(l(i).vipCode),1)],64)):d("",!0)])):d("",!0)])])]),Ce(a("div",Qe,[a("div",{class:"tcBtn",onClick:e[1]||(e[1]=s=>w.value=!0)},n(l(t).mine.buttons[0]),1)],512),[[Se,L.value==!1]]),p(te,{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=s=>w.value=s),"show-close":!1,style:K([{"background-image":"url("+o.$domain+"/mine/vip2.jpg)"},{"background-size":"cover","margin-top":"40px","margin-left":"auto",display:"flex","flex-direction":"column","justify-content":"space-around"}])},{header:f(({close:s,titleId:W,titleClass:se})=>[a("div",Xe,[a("div",Ye,[p(N,{class:"avatar-uploader",action:"https://www.findyourflame.vip:168/upload","show-file-list":!1,"before-upload":ve,"on-success":ce,"on-error":me},{default:f(()=>[c.avatar?(r(),u("img",{key:0,src:c.avatar,class:"avatarEdit",alt:"Avatar"},null,8,Ze)):(r(),S(D,{key:1,size:100,src:l(i).avatar?o.$domain+"/"+l(i).avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},null,8,["src"]))]),_:1})])]),a("div",et,[l(i).name?(r(),S(M,{key:0,type:"text",value:l(i).name,"onUpdate:value":e[2]||(e[2]=A=>l(i).name=A),placeholder:l(t).mine.dialog.input,style:{width:"50vw"}},null,8,["value","placeholder"])):(r(),S(M,{key:1,type:"text",value:c.name,"onUpdate:value":e[3]||(e[3]=A=>c.name=A),placeholder:l(t).mine.dialog.input,style:{width:"50vw"}},null,8,["value","placeholder"]))]),a("div",tt,[p(P,{onClick:e[4]||(e[4]=A=>w.value=!1)},{default:f(()=>[v(n(l(t).mine.dialog.buttons[0]),1)]),_:1}),p(P,{onClick:de},{default:f(()=>[v(n(l(t).mine.dialog.buttons[1]),1)]),_:1})])]),_:1},8,["modelValue","style"])],4)):d("",!0)]),a("div",lt,[a("div",at,[a("div",ot,[l(i).dataError==0?(r(),u(k,{key:0},[v(n(l(t).mine.account)+"\uFF1A"+n(l(i).money||0),1)],64)):d("",!0),l(i).dataError==1?(r(),u("del",st,n(l(t).mine.account)+"\uFF1A"+n(l(i).money),1)):d("",!0)]),l(i).dataError==1?(r(),u("small",nt,n(l(t).mine.txts[0]),1)):d("",!0),l(i).dataError==2?(r(),u("small",it,n(l(t).mine.txts[1]),1)):d("",!0),l(i).dataError==3?(r(),u("small",rt,n(l(t).mine.txts[2]),1)):d("",!0),l(i).dataError==4?(r(),u("small",ut,n(l(t).mine.txts[3]),1)):d("",!0)]),a("div",dt,[p(le,{style:{color:"#000","font-weight":"bold"},onClick:e[6]||(e[6]=s=>Z(1))},{default:f(()=>[v(n(l(t).mine.buttons[1]),1)]),_:1}),p(le,{style:{color:"#000","font-weight":"bold"},onClick:e[7]||(e[7]=s=>Z(0))},{default:f(()=>[v(n(l(t).mine.buttons[2]),1)]),_:1}),p(oe,{open:j.value,"onUpdate:open":e[9]||(e[9]=s=>j.value=s),title:l(t).mine.model.titles[0],onOk:ue},{default:f(()=>[a("div",vt,[a("div",ct,[e[29]||(e[29]=a("label",{for:""},null,-1)),p(M,{value:c.makeMoney,"onUpdate:value":e[8]||(e[8]=s=>c.makeMoney=s)},null,8,["value"])]),a("div",mt,[a("div",null,[a("strong",null,n(l(t).mine.model.titles[1])+":\xA0"+n(l(i).money),1)])])]),a("div",null,[a("strong",null,n(l(t).mine.model.titles[2]),1)]),a("div",gt,[(r(!0),u(k,null,Ee(C.value,(s,W)=>(r(),u("div",pt,[a("label",ft,n(s.date),1),a("div",yt,[a("strong",null,[s.status==0?(r(),S(ae,{key:0},{default:f(()=>[p(ge)]),_:1})):d("",!0),s.status==1?(r(),u(k,{key:1},[s.type==0?(r(),u(k,{key:0},[v(" + ")],64)):d("",!0),s.type==1?(r(),u(k,{key:1},[v(" - ")],64)):d("",!0)],64)):d("",!0),s.status==2?(r(),S(ae,{key:2},{default:f(()=>[p(pe)]),_:1})):d("",!0),v(" "+n(s.makeMoney),1)])])]))),256))])]),_:1},8,["open","title"])])]),p(oe,{open:E.value,"onUpdate:open":e[14]||(e[14]=s=>E.value=s),title:l(t).mine.model.titles[0],onOk:Q},{footer:f(()=>[p(P,{key:"back",onClick:e[13]||(e[13]=s=>E.value=!1)},{default:f(()=>[v(n(l(t).mine.dialog.buttons[0]),1)]),_:1}),p(P,{key:"submit",type:"primary",loading:J.value,onClick:Q},{default:f(()=>[v(n(l(t).mine.dialog.buttons[1]),1)]),_:1},8,["loading"])]),default:f(()=>[a("div",kt,[a("div",_t,[a("div",null,n(l(t).mine.model.titles[3]),1),p(R,{modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=s=>V.value=s),style:{width:"240px"},placeholder:""},null,8,["modelValue"])]),a("div",ht,[a("div",null,n(l(t).mine.model.titles[4]),1),p(R,{modelValue:x.value,"onUpdate:modelValue":e[11]||(e[11]=s=>x.value=s),style:{width:"240px"},placeholder:""},null,8,["modelValue"])]),a("div",bt,[a("div",null,n(l(t).mine.model.titles[5]),1),p(R,{modelValue:F.value,"onUpdate:modelValue":e[12]||(e[12]=s=>F.value=s),style:{width:"240px"},placeholder:""},null,8,["modelValue"])])])]),_:1},8,["open","title"]),a("div",wt,[a("div",xt,[a("div",{class:"",onClick:e[15]||(e[15]=s=>E.value=!0)},n(l(t).mine.buttons[3]),1),a("div",{class:"",onClick:e[16]||(e[16]=s=>I.value=!0)},n(l(t).login.buttons[0]),1),p(te,{modelValue:I.value,"onUpdate:modelValue":e[22]||(e[22]=s=>I.value=s),"show-close":!1,width:"500"},{header:f(({close:s,titleId:W,titleClass:se})=>[a("div",Ct,[a("h4",{id:W,class:Ie(se)},n(l(t).login.languageDialog.title),11,St)])]),default:f(()=>[a("ul",Et,[a("li",{onClick:e[17]||(e[17]=s=>$("jp"))},"\u65E5\u672C\u8A9E>"),a("li",{onClick:e[18]||(e[18]=s=>$("zh"))},"\u7E41\u4F53\u4E2D\u6587>"),a("li",{onClick:e[19]||(e[19]=s=>$("en"))},"English>"),a("li",{onClick:e[20]||(e[20]=s=>$("ko"))},"\uD55C\uAD6D\uC778>"),a("li",{onClick:e[21]||(e[21]=s=>$("vi"))},"Vi\u1EC7t Nam")])]),_:1},8,["modelValue"])]),a("div",{class:"",onClick:e[23]||(e[23]=s=>G(1))},n(l(t).mine.buttons[4]),1),a("div",{class:"",onClick:e[24]||(e[24]=s=>G(2))},n(l(t).mine.buttons[5]),1),a("div",{class:"",onClick:e[25]||(e[25]=s=>G(3))},n(l(t).mine.buttons[6]),1)]),a("div",{class:"outLogin button",onClick:ne},n(l(t).mine.buttons[7]),1),z.value?(r(),S(fe,{key:0,message:z.value,type:B.value},null,8,["message","type"])):d("",!0)])}}};var zt=ye(It,[["__scopeId","data-v-4c203411"]]);export{zt as default};
//# sourceMappingURL=mine.4cc18d5a.js.map
