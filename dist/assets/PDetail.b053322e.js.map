{"version":3,"file":"PDetail.b053322e.js","sources":["../../src/components/PDetail.vue"],"sourcesContent":["<template>\r\n\t<div class=\"main\">\r\n\t\t<el-icon class=\"back\" size=\"40\" @click=\"router.back()\"><ArrowLeftBold /></el-icon>\r\n\t\t<video v-if=\"PLdata.video.substr(PLdata.video.indexOf('.')+1).toLowerCase()=='mp4'\" style=\"width: 100%;\" ref=\"playCtrl\" playsinline>\r\n\t\t\t<source :src=\"$domain+'/'+PLdata.video\" type=\"video/mp4\">\r\n\t\t</video>\r\n\t\t<img v-if=\"PLdata.video.substr(PLdata.video.indexOf('.')+1).toLowerCase()=='png'||\r\n\t\tPLdata.video.substr(PLdata.video.indexOf('.')+1).toLowerCase()=='jpg'||\r\n\t\tPLdata.video.substr(PLdata.video.indexOf('.')+1).toLowerCase()=='jpeg'||\r\n\t\tPLdata.video.substr(PLdata.video.indexOf('.')+1).toLowerCase()=='gif'||\r\n\t\tPLdata.video.substr(PLdata.video.indexOf('.')+1).toLowerCase()=='webp'\"\r\n\t\t :src=\"$domain+'/'+PLdata.video\" alt=\"\" />\r\n\t\t<!-- <div class=\"infos\"> -->\r\n\t\t\t<!-- <div class=\"name\">{{PLdata.name}}</div> -->\r\n\t\t\t<!-- <div class=\"tags\">\r\n\t\t\t\t\t<template v-for=\"(item, index) in item.tags\" :key=\"index\">\r\n\t\t\t\t\t\t<a-tag :color=\"PLtagsColor[index]\">{{item}}</a-tag>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div> -->\r\n\t\t\t<!-- <h3>简介:</h3> -->\r\n\t\t\t<!-- <div class=\"remake\"> -->\r\n\t\t\t\t<!-- {{PLdata.jj}} -->\r\n\t\t\t\t<!-- <span>身高:{{PLdata.height}}</span>\r\n\t\t\t\t<span>体重:{{PLdata.weight}}</span>\r\n\t\t\t\t<span>胸围:{{PLdata.xw}}</span>\r\n\t\t\t\t<span>职业:{{PLdata.job}}</span> -->\r\n\t\t\t<!-- </div> -->\r\n\t\t\t<!-- <div class=\"remake\">{{item.remake}}</div> -->\r\n\t\t<!-- </div> -->\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tuseRouter,\r\n\t\tuseRoute\r\n\t} from 'vue-router';\r\n\timport {\r\n\t\tref,\r\n\t\tonMounted,\r\n\t\tonUnmounted,\r\n\t\treactive,\r\n\t\tonBeforeMount\r\n\t} from 'vue';\r\n\timport {\r\n\t\tCarousel\r\n\t} from 'ant-design-vue';\r\n\timport mainApi from '../api/main.js'\r\n\timport {\r\n\t\tElNotification\r\n\t} from 'element-plus'\r\n\timport {\r\n\t\tmessage\r\n\t} from 'ant-design-vue';\r\n\timport en from '../locales/en.js';\r\n\timport zh from '../locales/zh.js';\r\n\timport jp from '../locales/jp.js';\r\n\timport ko from '../locales/ko.js';\r\n\timport vi from '../locales/vi.js';\r\n\tconst langs = {\r\n\t\ten,\r\n\t\tzh,\r\n\t\tjp,\r\n\t\tko,\r\n\t\tvi\r\n\t}\r\n\tlet lang = langs[localStorage.getItem('language')]\r\n\tconst router = useRouter();\r\n\tconst route = useRoute();\r\n\tconst user = JSON.parse(localStorage.getItem('user'))\r\n\tif (!user) {\r\n\t\trouter.replace('/login');\r\n\t}\r\n\timport {\r\n\t\tuseCounterStore\r\n\t} from '../store/index';\r\n\timport mineApi from '../api/mine.js'\r\n\timport 'plyr/dist/plyr.css';\r\n\timport Plyr from 'plyr';\r\n\r\n\tconst store = useCounterStore();\r\n\tconst userInfo = ref({})\r\n\tconst getUser = () => {\r\n\t\tmineApi.get_user({\r\n\t\t\taccount: JSON.parse(localStorage.getItem('user')).account\r\n\t\t}).then(res => {\r\n\t\t\tif (res.code == 0) {\r\n\t\t\t\tconst user = res.rows[0]\r\n\t\t\t\tconsole.log(user)\r\n\t\t\t\tdelete user.password\r\n\t\t\t\tuserInfo.value = user\r\n\t\t\t\tstore.user = user\r\n\t\t\t\tconsole.log(store.user)\r\n\t\t\t\tconst localUser = user\r\n\t\t\t\tlocalStorage.setItem('user', JSON.stringify(localUser))\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error('fail');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t//初始化用户信息\r\n\tgetUser()\r\n\tlet PLdata = ref({\r\n\t\tavatar: '',\r\n\t\tname: '',\r\n\t\ttags: [1, 2, 3],\r\n\t\tinfo: {\r\n\t\t\ta: '18',\r\n\t\t\th: '172',\r\n\t\t\tx: '140',\r\n\t\t\tw: '110',\r\n\t\t\tadr: '',\r\n\t\t\tj: '',\r\n\t\t},\r\n\t\tremake: '',\r\n\r\n\t})\r\n\tconst queryString = window.location.search;\r\n\tconst urlParams = new URLSearchParams(queryString);\r\n\tconsole.log(route.query.item)\r\n\tonBeforeMount(() => {\r\n\t\tPLdata.value = JSON.parse(route.query.item)\r\n\t})\r\n\tconst playCtrl = ref(null);\r\n\tconst player = ref(null);\r\n\tonMounted(async () => {\r\n\t\t//初始化播放器\r\n\t\tif(playCtrl) {\r\n\t\t\tplayer.value = new Plyr(playCtrl.value);\r\n\t\t\tplayer.value.play()\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.back {\r\n\t\tposition: absolute;\r\n\t\tleft: 10px;\r\n\t\ttop: 10px;\r\n\t\tz-index: 1;\r\n\t}\r\n\t.infos {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-evenly;\r\n\t\talign-items: flex-start;\r\n\t\tmargin-left: 7px;\r\n\t\tpadding: 20px 0;\r\n\t}\r\n\r\n\t.main {\r\n\t\tbackground: linear-gradient(to right, #7A71F1, #5B2EE3);\r\n\t\theight: 90vh;\r\n\t\toverflow: scroll;\r\n\t}\r\n</style>"],"names":["en","zh","jp","ko","vi","router","useRouter","route","useRoute","store","useCounterStore","userInfo","ref","mineApi","res","user","localUser","message","PLdata","queryString","onBeforeMount","playCtrl","player","onMounted","Plyr"],"mappings":"iRA2De,CACb,GAAAA,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,EACA,GAAAC,CACA,GACgB,aAAa,QAAQ,UAAU,GAChD,MAAMC,EAASC,IACTC,EAAQC,IACD,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAEnDH,EAAO,QAAQ,QAAQ,EASxB,MAAMI,EAAQC,IACRC,EAAWC,EAAI,EAAE,GACP,IAAM,CACrBC,EAAQ,SAAS,CAChB,QAAS,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,EAAE,OACrD,CAAG,EAAE,KAAKC,GAAO,CACd,GAAIA,EAAI,MAAQ,EAAG,CAClB,MAAMC,EAAOD,EAAI,KAAK,GACtB,QAAQ,IAAIC,CAAI,EAChB,OAAOA,EAAK,SACZJ,EAAS,MAAQI,EACjBN,EAAM,KAAOM,EACb,QAAQ,IAAIN,EAAM,IAAI,EACtB,MAAMO,EAAYD,EAClB,aAAa,QAAQ,OAAQ,KAAK,UAAUC,CAAS,CAAC,CAC1D,MACIC,EAAQ,MAAM,MAAM,CAExB,CAAG,CACD,GAEQ,EACT,IAAIC,EAASN,EAAI,CAChB,OAAQ,GACR,KAAM,GACN,KAAM,CAAC,EAAG,EAAG,CAAC,EACd,KAAM,CACL,EAAG,KACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,IAAK,GACL,EAAG,EACH,EACD,OAAQ,EAEV,CAAE,EACD,MAAMO,EAAc,OAAO,SAAS,OAClB,IAAI,gBAAgBA,CAAW,EACjD,QAAQ,IAAIZ,EAAM,MAAM,IAAI,EAC5Ba,EAAc,IAAM,CACnBF,EAAO,MAAQ,KAAK,MAAMX,EAAM,MAAM,IAAI,CAC5C,CAAE,EACD,MAAMc,EAAWT,EAAI,IAAI,EACnBU,EAASV,EAAI,IAAI,EACvB,OAAAW,EAAU,SAAY,CAElBF,IACFC,EAAO,MAAQ,IAAIE,EAAKH,EAAS,KAAK,EACtCC,EAAO,MAAM,KAAM,EAEtB,CAAE"}