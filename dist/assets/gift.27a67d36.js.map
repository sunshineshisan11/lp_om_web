{"version":3,"file":"gift.27a67d36.js","sources":["../../src/api/gift.js","../../src/views/gift.vue"],"sourcesContent":["import $http from '../http.js';\r\nexport default {\r\n\tupdateMoney: function(data) {\r\n\t\treturn $http.get('api/get/updateMoney',data)\r\n\t},\r\n\tgetGift: function(data) {\r\n\t\treturn $http.get('api/get/gift',data)\r\n\t},\r\n\tgiftVoteAdd: function(data) {\r\n\t\treturn $http.get('api/update/giftVoteAdd',data)\r\n\t},\r\n\tsetVote: function(data) {\r\n\t\treturn $http.get('api/set/vote',data)\r\n\t},\r\n\taddVote: function(data) {\r\n\t\treturn $http.get('api/add/vote',data)\r\n\t},\r\n}","<template>\r\n\t<div class=\"main\">\r\n\t\t<div class=\"bg\">\r\n\t\t\t<div class=\"bgHead\" :style=\"{ 'background-image': 'url(' + $domain + '/bg2.jpg)' }\">\r\n\t\t\t\t<div class=\"bColor\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"title\">\r\n\t\t\t\t{{ lang.gift.title }}\r\n\t\t\t</div>\r\n\t\t\t<!-- <div class=\"voteHead\">\r\n\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t<div class=\"icon magR20\">\r\n\t\t\t\t\t\t<img :src=\"$domain+'/mine/logo1.png'\" alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"voteDate\">{{utils.getDate('vote')}}{{giftQRandom}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"calcDate\">\r\n\t\t\t\t\t{{calcDate}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"voteRet magB20\">\r\n\t\t\t\t<div class=\"vRTitle\">\r\n\t\t\t\t\t{{utils.getDate('vote')}}{{giftQ1Random}}\r\n\t\t\t\t\t<div>{{lang.gift.txts[0]}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"resItem\">\r\n\t\t\t\t\t<div class=\"number\">{{giftNumRandom}}</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"ressquareBox\" style=\"margin: 0px 0px 5px; min-width: 70px;\">{{gifts[giftTRandom].name}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"ressquareBox\" style=\"margin: 0px;\">{{gifts[giftBRandom].name}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> -->\r\n\t\t\t<div class=\"gifts\">\r\n\t\t\t\t<div class=\"container\">\r\n\t\t\t\t\t<div class=\"gift\" :class=\"item.flag ? 'active' : ''\" v-for=\"(item, index) in gifts\" :key=\"index\"\r\n\t\t\t\t\t\t@click=\"giftClick(index)\">\r\n\t\t\t\t\t\t<img :src=\"$domain + '/' + item.src\" alt=\"\" />\r\n\t\t\t\t\t\t<div class=\"dec\">\r\n\t\t\t\t\t\t\t<small class=\"NO\">NO.{{ item.name }}</small> <small class=\"vote\">vote:{{ item.vote\r\n\t\t\t\t\t\t\t}}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"cricle\" style=\"position: absolute;top: 0;\">\r\n\t\t\t\t<!-- <cricle></cricle> -->\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t<div class=\"shopCat\" :style=\"{ 'margin-top': '20vh' }\" v-if=\"shopCatShow\">\r\n\t\t\t<div class=\"top magB10\">\r\n\t\t\t\t<!-- <div class=\"label padR20\">{{lang.gift.txts[1]}}:</div> -->\r\n\t\t\t\t<div class=\"giftList\" v-for=\"(item, index) in gifts\" :key=\"index\">\r\n\t\t\t\t\t<div class=\"item\" v-if=\"item.flag\">NO.{{ item.name }}{{ index >= gifts.length ? '' : '&nbsp;' }}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"bottom\">\r\n\t\t\t\t<!-- <div class=\"label padR20\">{{lang.gift.txts[2]}}:</div> -->\r\n\t\t\t\t<div class=\"votePrice\">\r\n\t\t\t\t\t<input type=\"number\" maxlength=\"9\" v-model=\"votePrice\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"submit\">\r\n\t\t\t\t\t<el-button class=\"submit\" @click=\"confirmOrder\">{{ lang.gift.buttons[0] }}</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<el-dialog v-model=\"dialog\" width=\"500\" :show-close=\"false\">\r\n\t\t\t\t<div class=\"dialogContent\">\r\n\t\t\t\t\t<div class=\"gifts\" v-for=\"(item, index) in gifts\" :key=\"index\">\r\n\t\t\t\t\t\t<div class=\"giftItem\" v-if=\"item.flag\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t<div class=\"name\">NO.{{ item.name }}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"number\">票數：{{ votePrice }}票</div>\r\n\t\t\t\t\t\t\t\t<!-- <div class=\"number\">1枚 X {{votePrice}}個 = {{votePrice}}個</div> -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <div class=\"right\">\r\n\t\t\t\t\t\t\t\t<el-icon>\r\n\t\t\t\t\t\t\t\t\t<CloseBold />\r\n\t\t\t\t\t\t\t\t</el-icon>\r\n\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<template #footer>\r\n\t\t\t\t\t<div class=\"dialog-footer\">\r\n\t\t\t\t\t\t<div class=\"button close\" @click=\"clearOrder\">{{ lang.gift.dialog.buttons[0] }}</div>\r\n\t\t\t\t\t\t<div class=\"button\" @click=\"confirmOrder\">{{ lang.gift.dialog.buttons[1] }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</el-dialog>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n\tref,\r\n\tonMounted,\r\n\tonUnmounted,\r\n\tinject\r\n} from 'vue';\r\nimport utils from '../utils/index.js'\r\n// import {\r\n// \tElMessage\r\n// } from 'element-plus'\r\nimport {\r\n\tModal\r\n} from 'ant-design-vue';\r\nimport cricle from '../components/cricle.vue'\r\nimport en from '../locales/en.js';\r\nimport zh from '../locales/zh.js';\r\nimport jp from '../locales/jp.js';\r\nimport ko from '../locales/ko.js';\r\nimport vi from '../locales/vi.js';\r\nconst langs = {\r\n\ten,\r\n\tzh,\r\n\tjp,\r\n\tko,\r\n\tvi\r\n}\r\nlet lang = langs[localStorage.getItem('language')]\r\nconst calcDate = ref('')\r\nonMounted(() => {\r\n\r\n});\r\nonUnmounted(() => {\r\n});\r\n// const getUser = () => {\r\n// \tmineApi.get_user({\r\n// \t\taccount: account\r\n// \t}).then(res => {\r\n// \t\tif (res.code == 0) {\r\n// \t\t\ttry {\r\n// \t\t\t\tconst user = res.rows[0]\r\n// \t\t\t\tconsole.log(11, user)\r\n// \t\t\t\tif (!user) {\r\n// \t\t\t\t\trouter.replace('/login');\r\n// \t\t\t\t}\r\n// \t\t\t\tdelete user.password\r\n// \t\t\t\tstore.user = user\r\n// \t\t\t\tconst localUser = user\r\n// \t\t\t\tlocalStorage.setItem('user', JSON.stringify(localUser))\r\n// \t\t\t\tif (user.vipGrade != 0) {\r\n// \t\t\t\t\topenFlag.value = true\r\n// \t\t\t\t}\r\n// \t\t\t} catch (error) {\r\n\r\n// \t\t\t}\r\n// \t\t} else {\r\n// \t\t\tmessage.error('fail');\r\n// \t\t}\r\n// \t})\r\n// }\r\n// getUser()\r\n// localStorage.removeItem('gift')\r\nlet initGifts = []\r\nlet gifts = ref([])\r\nlet giftChoise = ref([])\r\nlet shopCatShow = ref(false)\r\nconst getData = () => {\r\n\tgiftApi.getGift().then(res => {\r\n\t\tif (res.code == 0) {\r\n\t\t\tinitGifts = res.rows\r\n\t\t\tgifts.value = initGifts\r\n\t\t\tlocalStorage.setItem('gift', JSON.stringify(initGifts))\r\n\t\t\tconsole.log(gifts.value)\r\n\t\t} else {\r\n\t\t\tmessage.error(res.error)\r\n\t\t}\r\n\t})\r\n}\r\nif (localStorage.getItem('gift')) {\r\n\tinitGifts = JSON.parse(localStorage.getItem('gift'))\r\n\tgifts.value = initGifts\r\n} else {\r\n\tgetData()\r\n}\r\n\r\n\r\n// if (!localStorage.getItem('gift')) {\r\n// \tgetData()\r\n// } else {\r\n// \tinitGifts = JSON.parse(localStorage.getItem('gift'))\r\n// \tgifts.value = initGifts\r\n// }\r\nconst giftClick = (index) => {\r\n\tif (gifts.value[index].flag) {\r\n\t\tgifts.value[index].flag = false\r\n\t\t// for (let i = 0; i < giftChoise.value.length; i++) {\r\n\t\t// \tif (gifts.value[index].name == giftChoise.value[i]) {\r\n\t\t// \t\tgiftChoise.value.splice(i, 1)\r\n\t\t// \t}\r\n\t\t// }\r\n\t} else {\r\n\t\tgifts.value[index].flag = true\r\n\t\t// giftChoise.value.push(gifts.value[index].name)\r\n\t}\r\n\tfor (let i = 0; i < gifts.value.length; i++) {\r\n\t\tif (gifts.value[i].flag != false) {\r\n\t\t\tshopCatShow.value = true\r\n\t\t\tbreak\r\n\t\t} else {\r\n\t\t\tshopCatShow.value = false\r\n\t\t}\r\n\t}\r\n}\r\nconst dialog = ref(false)\r\nconst votePrice = ref()\r\nconst clearOrder = () => {\r\n\tdialog.value = false\r\n\tgiftChoise.value = []\r\n\tvotePrice.value = ''\r\n\tfor (let i in initGifts) {\r\n\t\tinitGifts[i].flag = false\r\n\t}\r\n\tgifts.value = JSON.parse(JSON.stringify(initGifts))\r\n\tshopCatShow.value = false\r\n\tconsole.log(gifts.value)\r\n}\r\nimport mineApi from '../api/mine.js'\r\nimport giftApi from '../api/gift.js';\r\nconst getUser = () => {\r\n\tmineApi.get_user({\r\n\t\taccount: JSON.parse(localStorage.getItem('user')).account\r\n\t}).then(res => {\r\n\t\tif (res.code == 0) {\r\n\t\t\tconst user = res.rows[0]\r\n\t\t\tconsole.log(user)\r\n\t\t\tdelete user.password\r\n\t\t\tstore.user = user\r\n\t\t\tconst localUser = user\r\n\t\t\tlocalStorage.setItem('user', JSON.stringify(localUser))\r\n\t\t} else {\r\n\t\t\tmessage.error('fail');\r\n\t\t}\r\n\t})\r\n}\r\nimport {\r\n\tuseCounterStore\r\n} from '../store/index';\r\nimport {\r\n\tmessage\r\n} from 'ant-design-vue';\r\nconst store = useCounterStore();\r\n//判断用户信息是否拿到\r\n// if (JSON.stringify(store.user) == '{}') {\r\n// \tgetUser()\r\n// }\r\ngetUser()\r\nlet giftNum = 0\r\nlet giftChiose = []\r\nconst confirmOrder = async () => {\r\n\tlet f = false\r\n\tlet n = 0\r\n\tlet c = []\r\n\tfor (let i = 0; i < gifts.value.length; i++) {\r\n\t\tif (gifts.value[i].flag) {\r\n\t\t\tc.push(gifts.value[i])\r\n\t\t\tn++\r\n\t\t}\r\n\t}\r\n\tgiftChiose = c\r\n\tgiftNum = n\r\n\tif (n > 0) {\r\n\t\tf = true\r\n\t}\r\n\tif (!f) {\r\n\t\tmessage.error(lang.gift.message[0]) //请选择2份礼物\r\n\t\treturn\r\n\t}\r\n\tif (!votePrice.value) {\r\n\t\tmessage.error(lang.gift.message[1]) //请填写积分\r\n\t\treturn\r\n\t}\r\n\r\n\t// dialog.value = false\r\n\t//扣除积分  判断积分够不够\r\n\tif (votePrice.value * giftNum > store.user.money) {\r\n\t\tmessage.error(lang.gift.message[2])\r\n\t\treturn\r\n\t}\r\n\tshopCatShow.value = false\r\n\tif (store.user.dataError == 1) {\r\n\t\tconst modal = Modal.error({\r\n\t\t\ttitle: lang.gift.model.title,\r\n\t\t\tcontent: lang.gift.model.content[0],\r\n\t\t\tokText: lang.gift.model.okText,\r\n\t\t});\r\n\t\treturn\r\n\t}\r\n\tif (store.user.dataError == 2) {\r\n\t\tconst modal = Modal.error({\r\n\t\t\ttitle: lang.gift.model.title,\r\n\t\t\tcontent: lang.gift.model.content[1],\r\n\t\t\tokText: lang.gift.model.okText,\r\n\t\t});\r\n\t\treturn\r\n\t}\r\n\tif (store.user.dataError == 3) {\r\n\t\tconst modal = Modal.error({\r\n\t\t\ttitle: lang.gift.model.title,\r\n\t\t\tcontent: lang.gift.model.content[2],\r\n\t\t\tokText: lang.gift.model.okText,\r\n\t\t});\r\n\t\treturn\r\n\t}\r\n\tif (store.user.dataError == 4) {\r\n\t\tconst modal = Modal.error({\r\n\t\t\ttitle: lang.gift.model.title,\r\n\t\t\tcontent: lang.gift.model.content[3],\r\n\t\t\tokText: lang.gift.model.okText,\r\n\t\t});\r\n\t\treturn\r\n\t}\r\n\t//数据出错\r\n\tif (giftNum == 2) {\r\n\t\tif (votePrice.value == 25000 || votePrice.value == 50000) {\r\n\t\t\tawait mineApi.dataError({\r\n\t\t\t\taccount: store.user.account\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\tconst modal = Modal.error({\r\n\t\t\t\t\t\ttitle: lang.gift.model.title,\r\n\t\t\t\t\t\tcontent: lang.gift.model.content[0],\r\n\t\t\t\t\t\tokText: lang.gift.model.okText,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error('fail')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t//是否可以投票\r\n\tif (store.user.voteFlag != 1) {\r\n\t\tmessage.error('fail')\r\n\t\tsetInterval(() => {\r\n\r\n\t\t}, 3600);\r\n\t\treturn\r\n\t}\r\n\tfor (let i = 0; i < giftChiose.length; i++) {\r\n\t\t//增加票数\r\n\t\tawait giftApi.giftVoteAdd({\r\n\t\t\tid: giftChiose[i].id,\r\n\t\t\tvote: votePrice.value\r\n\t\t}).then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tif (res.code == 0) {\r\n\t\t\t\tgetData()\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(res.error)\r\n\t\t\t}\r\n\t\t})\r\n\t\t//添加投票记录\r\n\t\tawait giftApi.addVote({\r\n\t\t\taccount: store.user.account,\r\n\t\t\tvoteId: giftChiose[i].name,\r\n\t\t\tvoteNum: votePrice.value,\r\n\t\t}).then(res => {\r\n\t\t\tif (res.code == 0) { } else {\r\n\t\t\t\tmessage.error(res.error)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t//自动返20%\r\n\tif (giftNum == 1) {\r\n\t\tif (votePrice.value == 30000 || votePrice.value == 50000) {\r\n\t\t\tawait giftApi.updateMoney({\r\n\t\t\t\ttype: 0,\r\n\t\t\t\tmakeMoney: votePrice.value * 0.2,\r\n\t\t\t\taccount: store.user.account,\r\n\t\t\t\tvoteFlag: 0\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\tmessage.success('success')\r\n\t\t\t\t\tclearOrder()\r\n\t\t\t\t\tgetUser()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(res.error)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\t// await giftApi.updateMoney({\r\n\t// \ttype: 1,\r\n\t// \tmakeMoney: votePrice.value * giftNum,\r\n\t// \taccount: store.user.account,\r\n\t// \tdataError: store.user.dataError,\r\n\t// \tvoteFlag: 0\r\n\t// }).then(res => {\r\n\t// \tif (res.code == 0) {\r\n\t// \t\tclearOrder()\r\n\t// \t\tgetUser()\r\n\t// \t} else {\r\n\t// \t\tmessage.error(res.error)\r\n\t// \t}\r\n\t// })\r\n\t// if (store.user.dataError == 1) {\r\n\t// \tModal.error({\r\n\t// \t\ttitle: lang.gift.model.title,\r\n\t// \t\tcontent: lang.gift.model.content,\r\n\t// \t\tokText: lang.gift.model.okText,\r\n\t// \t});\r\n\t// \treturn\r\n\t// }\r\n}\r\n// const submit = () => {\r\n// \tlet f = false\r\n// \tlet n = 0\r\n// \tlet c = []\r\n// \tfor (let i = 0; i < gifts.value.length; i++) {\r\n// \t\tif (gifts.value[i].flag) {\r\n// \t\t\tc.push(gifts.value[i])\r\n// \t\t\tn++\r\n// \t\t}\r\n// \t}\r\n// \tgiftChiose = c\r\n// \tgiftNum = n\r\n// \tconsole.log(giftNum)\r\n// \tif (n > 0) {\r\n// \t\tf = true\r\n// \t}\r\n// \tif (!f) {\r\n// \t\tmessage.error(lang.gift.message[0]) //请选择2份礼物\r\n// \t\treturn\r\n// \t}\r\n// \tif (!votePrice.value) {\r\n// \t\tmessage.error(lang.gift.message[1]) //请填写积分\r\n// \t\treturn\r\n// \t}\r\n// \tdialog.value = true\r\n// }\r\n// const giftDel = (item) => {\r\n// \tfor (let i = 0; i < gifts.value.length; i++) {\r\n// \t\tif (gifts.value[i] == item) {\r\n// \t\t\tgifts.value[i].flag = false\r\n// \t\t}\r\n// \t}\r\n// }\r\n</script>\r\n\r\n<style scoped>\r\n:deep(.el-dialog__header) {\r\n\tdisplay: none;\r\n}\r\n\r\n:deep(.el-dialog) {\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.dialog-footer {\r\n\tdisplay: flex;\r\n}\r\n\r\n.dialog-footer .close {\r\n\tbackground: linear-gradient(0deg, #fff, #fff);\r\n\tcolor: #979799 !important;\r\n\tborder: 1px solid #ebedf0;\r\n}\r\n\r\n.dialog-footer .button {\r\n\ttext-align: center;\r\n\tmargin: 0 30px;\r\n\tcolor: white;\r\n}\r\n\r\n.dialogContent {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.dialogContent .giftItem {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tflex: 1;\r\n\tpadding: 10px 0;\r\n\tborder-bottom: 1px solid #ebedf0;\r\n}\r\n\r\n.dialogContent .giftItem .right .el-icon {\r\n\tcolor: #ff253f;\r\n\tborder: 1px solid #ff253f;\r\n\tborder-radius: 50%;\r\n\tpadding: 1px;\r\n}\r\n\r\n.dialogContent .giftItem .left .name {\r\n\tcolor: #ff253f;\r\n\tfont-size: 5vw;\r\n\ttext-align: left;\r\n}\r\n\r\n.dialogContent .giftItem .left .number {\r\n\tfont-size: 3vw;\r\n\tcolor: #979799;\r\n}\r\n\r\n.dialogContent .giftItem .left {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.shopCat .bottom {}\r\n\r\n.submit {\r\n\tflex: 1;\r\n}\r\n\r\n.giftList {\r\n\tcolor: #ed37ae;\r\n}\r\n\r\n.votePrice {\r\n\tbackground: rgb(242, 242, 245);\r\n\twidth: 210px;\r\n\theight: 8vh;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.votePrice input {\r\n\tfont-size: 18px;\r\n\tborder: none;\r\n\tbackground-color: transparent;\r\n\twidth: 50vw;\r\n\theight: 80%;\r\n}\r\n\r\n.votePrice input:focus {\r\n\toutline: none;\r\n}\r\n\r\n.shopCat {\r\n\tposition: fixed;\r\n\tbottom: 8vh;\r\n\tleft: 0;\r\n\twidth: 100vw;\r\n\tpadding: 10px;\r\n\tbox-sizing: border-box;\r\n\tbox-shadow: 0 0 10px 0 #cacaca;\r\n\tbackground-color: #fff;\r\n\tcolor: rgb(59, 53, 151);\r\n\tfont-weight: normal;\r\n\t/* background: linear-gradient(90deg, #8b73e6, #d75db4); */\r\n}\r\n\r\n.shopCat .top,\r\n.shopCat .bottom {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.active {\r\n\tbackground-color: #d75db4 !important;\r\n\tcolor: #fff !important;\r\n\tborder: 3px solid #d75db4 !important;\r\n\tcolor: #763EB8 !important;\r\n}\r\n\r\n.resItem .number {\r\n\twidth: 9vw;\r\n\theight: 9vw;\r\n\tline-height: 9vw;\r\n\tmargin-right: 10px;\r\n\tbackground: linear-gradient(90deg, #8b73e6, #d75db4);\r\n\tborder-radius: 50%;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n}\r\n\r\n.resItem .ressquareBox {\r\n\tborder-radius: 10px;\r\n\tbackground: linear-gradient(90deg, #f560cd, #4f2b8a);\r\n\tcolor: #fff;\r\n\theight: 7vw;\r\n\tline-height: 7vw;\r\n\ttext-align: center;\r\n\tfont-size: 3vw;\r\n\tfont-weight: 700;\r\n}\r\n\r\n.resItem {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\tborder-radius: 8px;\r\n\tpadding: 8px;\r\n\theight: 100%;\r\n\tmargin-left: 5px;\r\n\twidth: calc(100% - 37vw);\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.voteRet {\r\n\tbackground: rgb(244, 124, 213);\r\n\tpadding: 12px;\r\n\tmargin-bottom: 10px;\r\n\tborder-radius: 8px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: center;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.voteRet .vRTitle {\r\n\tborder-right: 4px solid rgb(249, 177, 231);\r\n\tpadding: 10px 30px 0px 10px;\r\n\tcolor: rgb(255, 255, 255);\r\n\tfont-weight: bold;\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n\r\n.voteHead {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.voteHead .left {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.voteHead .icon {\r\n\twidth: 70px;\r\n\theight: 70px;\r\n\tborder-radius: 10px;\r\n}\r\n\r\n.gifts {\r\n\theight: 80vh;\r\n\toverflow: scroll;\r\n}\r\n\r\n.gifts .container {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: space-around;\r\n\tpadding-bottom: 30vh;\r\n}\r\n\r\n.gift {\r\n\t/* width: calc(45% - 5vw) !important;\r\n\theight: 20vh !important; */\r\n\twidth: 120px !important;\r\n\t\theight: 180px !important;\r\n\ttext-align: center;\r\n\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);\r\n\tmargin: 5px;\r\n\tcolor: #000;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tborder-radius: 5px;\r\n\tposition: relative;\r\n\tborder: 3px solid #fff;\r\n}\r\n\r\n@media screen and (min-width: 500px) {\r\n\t.gift {\r\n\t\twidth: 90px !important;\r\n\t\theight: 160px !important;\r\n\t}\r\n}\r\n\r\n.gift img {\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.gift .dec {\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.gift .dec .NO,\r\n.gift .dec .vote {\r\n\tposition: absolute;\r\n\tpadding: 2px 3px 0 3px;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 2px;\r\n}\r\n\r\n.gift .dec .NO {\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n}\r\n\r\n.gift .dec .vote {\r\n\tright: 0px;\r\n\tbottom: 0px;\r\n}\r\n\r\n.main {\r\n\tbackground-color: #f2f2f5;\r\n\tpadding: 20px 40px;\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\theight: 92vh;\r\n\t/* margin-bottom: 16vh; */\r\n\toverflow: hidden;\r\n}\r\n\r\n.bg {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: -2;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\twidth: 100vw;\r\n}\r\n\r\n.bg .bgHead {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\twidth: 100%;\r\n\theight: 100vh;\r\n\toverflow: hidden;\r\n\tbackground-size: cover;\r\n}\r\n\r\n.bg .bgHead .bColor {\r\n\t/* background: linear-gradient(90deg, #DF4AAC, #763EB8); */\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\topacity: 0.8;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>"],"names":["giftApi","data","$http","lang","en","zh","jp","ko","vi","ref","onMounted","onUnmounted","initGifts","gifts","giftChoise","shopCatShow","getData","res","message","giftClick","index","i","dialog","votePrice","clearOrder","getUser","mineApi","user","store","localUser","useCounterStore","giftNum","giftChiose","confirmOrder","f","n","c","Modal"],"mappings":"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"}